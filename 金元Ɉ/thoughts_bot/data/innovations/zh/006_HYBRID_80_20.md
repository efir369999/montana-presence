# 混合架构 80/20

**服务器 + 人类 = 共识**
**Montana协议 v1.0**

---

## 摘要

Montana使用独特的混合架构：80%的共识权重属于服务器（Full Node），20%属于人类（Verified User）。服务器提供稳定性和性能。人类提供去中心化和抗审查性。

**关键公式:**
```
共识 = 80% 服务器（稳定性）+ 20% 人类（去中心化）
```

---

## 1. 引言

### 1.1 纯模型的问题

| 模型 | 例子 | 问题 |
|------|------|------|
| 仅服务器 | 传统数据库 | 中心化、审查 |
| 仅矿工 | 比特币 | 矿池 = 中心化 |
| 仅质押者 | PoS网络 | 富者更富 |
| **80/20混合** | **Montana** | **平衡** |

### 1.2 Montana解决方案

分离责任：
- **服务器** — 快速、可靠、始终在线
- **人类** — 分布式、独立、抗审查

---

## 2. 架构

### 2.1 两级节点

**源代码:** [consensus.rs](https://github.com/efir369999/junomontanaagibot/blob/main/Montana%20ACP/montana/src/consensus.rs)

```rust
pub const FULL_NODE_CAP_PERCENT: u64 = 80;
pub const VERIFIED_USER_CAP_PERCENT: u64 = 20;
```

### 2.2 层级比较

| 参数 | Full Node (80%) | Verified User (20%) |
|------|-----------------|---------------------|
| 间隔 | τ₁ (1分钟) | 10-40分钟（随机）|
| 验证 | 仅密钥 | 密钥 + FIDO2 |
| 硬件 | 服务器 24/7 | 手机/笔记本 |
| 角色 | 稳定性 | 去中心化 |

---

## 3. 为什么80/20？

### 3.1 帕累托原则

```
80%的结果 = 20%的努力
80%稳定性 = 服务器
20%去中心化 = 足以抗审查
```

### 3.2 共识攻击

| 场景 | 结果 |
|------|------|
| 所有服务器被控制 | 20%人类阻止共识 |
| 所有人类离线 | 80%服务器工作（降级模式）|
| 51%服务器 + 0%人类 | 无共识（需要双方>50%）|

---

## 4. 攻击防护

| 攻击 | 防御 |
|------|------|
| 服务器控制 | 20%人类独立 |
| 通过人类进行女巫攻击 | FIDO2 + 自适应冷却 |
| 审查 | 地理分布的人类 |
| 运营商腐败 | 人类与运营商无关 |

---

## 5. 科学创新

1. **形式化混合** — 协议中精确的80/20百分比
2. **角色分离** — 服务器 ≠ 人类（按功能）
3. **双重阈值** — 共识需要两个层级
4. **反脆弱** — 对一个层级的攻击会加强另一个

---

## 6. 参考文献

| 文档 | 链接 |
|------|------|
| 共识代码 | [consensus.rs](https://github.com/efir369999/junomontanaagibot/blob/main/Montana%20ACP/montana/src/consensus.rs) |
| ACP共识 | [001_ACP.md](001_ACP.md) |
| FIDO2验证 | [005_FIDO2_CONSENSUS.md](005_FIDO2_CONSENSUS.md) |

---

```
Alejandro Montana
Montana协议 v1.0
2026年1月

github.com/efir369999/junomontanaagibot
```
