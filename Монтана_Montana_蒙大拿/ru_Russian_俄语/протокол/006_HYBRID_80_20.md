# Гибридная архитектура 80/20

**Серверы + Люди = Консенсус**
**Montana Protocol v1.0**

---

## Абстракт

Montana использует уникальную гибридную архитектуру: 80% веса консенсуса у серверов (Full Node), 20% у людей (Verified User). Серверы обеспечивают стабильность и производительность. Люди обеспечивают децентрализацию и устойчивость к цензуре.

**Ключевая формула:**
```
Консенсус = 80% Серверы (стабильность) + 20% Люди (децентрализация)
```

---

## 1. Введение

### 1.1 Проблема чистых моделей

| Модель | Пример | Проблема |
|--------|--------|----------|
| Только серверы | Традиционные БД | Централизация, цензура |
| Только майнеры | Bitcoin | Пулы = централизация |
| Только стейкеры | PoS сети | Rich-get-richer |
| **80/20 Гибрид** | **Montana** | **Баланс** |

### 1.2 Решение Montana

Разделить ответственность:
- **Серверы** — быстрые, надёжные, всегда онлайн
- **Люди** — распределённые, независимые, устойчивы к цензуре

---

## 2. Архитектура

### 2.1 Два уровня узлов

**Исходный код:** [consensus.rs](https://github.com/efir369999/junomontanaagibot/blob/main/Montana%20ACP/montana/src/consensus.rs)

```rust
pub const FULL_NODE_CAP_PERCENT: u64 = 80;
pub const VERIFIED_USER_CAP_PERCENT: u64 = 20;
```

### 2.2 Сравнение уровней

| Параметр | Full Node (80%) | Verified User (20%) |
|----------|-----------------|---------------------|
| Интервал | τ₁ (1 мин) | 10-40 мин (случайно) |
| Верификация | Только ключ | Ключ + FIDO2 |
| Железо | Сервер 24/7 | Телефон/ноутбук |
| Роль | Стабильность | Децентрализация |

---

## 3. Почему 80/20?

### 3.1 Принцип Парето

```
80% результата = 20% усилий
80% стабильности = серверы
20% децентрализации = достаточно для устойчивости к цензуре
```

### 3.2 Атака на консенсус

| Сценарий | Результат |
|----------|-----------|
| Все серверы захвачены | 20% людей блокируют консенсус |
| Все люди офлайн | 80% серверов работают (degraded mode) |
| 51% серверов + 0% людей | Нет консенсуса (нужно >50% от обоих) |

---

## 4. Защита от атак

| Атака | Защита |
|-------|--------|
| Захват серверов | 20% людей независимы |
| Sybil через людей | FIDO2 + Adaptive Cooldown |
| Цензура | Географически распределённые люди |
| Коррупция операторов | Люди не связаны с операторами |

---

## 5. Научная новизна

1. **Формализованный гибрид** — точные проценты 80/20 в протоколе
2. **Разделение ролей** — серверы ≠ люди по функции
3. **Двойной порог** — консенсус требует обоих уровней
4. **Anti-fragile** — атака на один уровень усиливает другой

---

## 6. Ссылки

| Документ | Ссылка |
|----------|--------|
| Консенсус код | [consensus.rs](https://github.com/efir369999/junomontanaagibot/blob/main/Montana%20ACP/montana/src/consensus.rs) |
| ACP Консенсус | [001_ACP.md](001_ACP.md) |
| FIDO2 верификация | [005_FIDO2_CONSENSUS.md](005_FIDO2_CONSENSUS.md) |

---

```
Alejandro Montana
Montana Protocol v1.0
Январь 2026

github.com/efir369999/junomontanaagibot
```
