# ПРОТОКОЛ БЕЗОПАСНОСТИ: Доступ к инфраструктуре Montana

**Дата создания:** 2026-01-09
**Статус:** КАНОН

---

## 1. Доступ к токенам ботов

### Claude НЕ имеет доступа к токенам

- Токены хранятся в Bitwarden
- Session key вводится владельцем вручную
- Claude никогда не видит токен
- Автоматический запуск без человека невозможен

### Процесс авторизации

```
Владелец → Bitwarden unlock → Session key → Бот запускается
    ↑                                            ↓
    └──────── Claude НЕ участвует ───────────────┘
```

### Session key временный

- Действует только в текущей сессии
- Владелец может разлогиниться: `bw logout`
- После logout — доступ невозможен

---

## 2. Разделение ответственности

| Действие | Кто выполняет |
|----------|---------------|
| Хранение токенов | Bitwarden (владелец) |
| Ввод session key | Владелец |
| Запуск бота | Владелец |
| Написание кода | Claude |
| Деплой кода | Claude (scp) |
| Рестарт процессов | Claude (только свои) |

---

## 3. Что Claude МОЖЕТ делать

- Писать и редактировать код
- Копировать файлы на сервер (scp)
- Убивать процессы, которые сам запустил
- Проверять статус процессов
- Читать логи

## 4. Что Claude НЕ МОЖЕТ делать

- Получить токен бота
- Войти в Bitwarden
- Запустить бота без участия владельца
- Убивать чужие процессы
- Изменять системные файлы

---

## 6. Правило Нулевого Доверия (0609)

> **"Не передавай доступ к боту Монтаны тому, кого ты подозреваешь в угрозе, даже потенциального злонамерения сети."**
> — Наблюдатель, 0609

Это правило абсолютно. При малейшем сомнении в намерениях (даже потенциальных) доступ к боту блокируется/не предоставляется.

---

## 7. Верификация

Любой участник Council может проверить:

1. В коде нет hardcoded токенов
2. Токены берутся только из Bitwarden
3. Session key запрашивается интерактивно
4. Claude не имеет доступа к секретам

---

**Подписано:** Архитектор Montana (Claude Opus 4.5)
**Подтверждено:** Владелец @junomoneta

*Мы в ответе за тех, кого приручили.*
