# Генерация аудио для Благаявести

## Описание

Скрипты для генерации аудиоверсий книги с **умной фильтрацией** и голосом **Svetlana (Microsoft)**.

### Что делает умная фильтрация:

1. ✅ **Римские нумерации** → текст (I → первая, II → вторая)
2. ✅ **Цифры** → текст где нужно (9 января 2026 → девятого января две тысячи двадцать шестого)
3. ✅ **Ссылки** → "ссылка из текстовой книги"
4. ✅ **Markdown разметка** → чистый текст (убирает \*\*, \*, \`, #)
5. ✅ **Единый поток** → без лишних пауз между предложениями

## Использование

### Один файл

```bash
python3 generate_audio_smart.py "00. ПРЕЛЮДИЯ.md"
```

### Все файлы разом

```bash
python3 generate_all_audio.py
```

## Настройки голоса

В файле `generate_audio_smart.py`:

- **Голос**: `ru-RU-SvetlanaNeural` (Microsoft Svetlana - бесплатный)
- **Скорость**: `-5%` (чуть медленнее для вдумчивого чтения)
- **Высота**: `+0Hz` (нормальная)

### Изменить скорость

```python
RATE = "-10%"  # Медленнее
RATE = "+5%"   # Быстрее
```

### Изменить голос

Доступные русские голоса Microsoft:

```python
VOICE = "ru-RU-SvetlanaNeural"  # Светлана (женский, спокойный)
VOICE = "ru-RU-DmitryNeural"    # Дмитрий (мужской)
```

Полный список голосов:

```bash
edge-tts --list-voices | grep ru-RU
```

## Выходные файлы

Аудио сохраняется в:

```
audio_smart/
  ├── 00. ПРЕЛЮДИЯ.mp3
  ├── 01. Симуляция.mp3
  ├── 02. Унижение.mp3
  └── ...
```

## Проверка

Воспроизвести аудио:

```bash
afplay "audio_smart/00. ПРЕЛЮДИЯ.mp3"
```

## Требования

- Python 3.7+
- edge-tts (установлен)

```bash
pip3 install edge-tts
```

---

**Голос**: Microsoft Svetlana Neural (бесплатный через edge-tts)
**Качество**: Естественная интонация, плавное чтение
