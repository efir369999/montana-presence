# –ö–≤–∞–Ω—Ç–æ–≤–∞—è –°–∏—Å—Ç–µ–º–∞ –ü–µ—Ä–µ–≤–æ–¥–æ–≤ Montana

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

Montana —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–∫–≤–∞–Ω—Ç–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –∫–æ—à–µ–ª—å–∫–∞–º–∏:

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ê–¥—Ä–µ—Å = –ö–ª—é—á**
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** Telegram ID –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –∞–¥—Ä–µ—Å–æ–º –∏ –∫–ª—é—á–æ–º
   - **–£–∑–ª—ã:** –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å (mt + SHA256(public_key)[:20])
   - –ù–∏–∫–∞–∫–∏—Ö seed phrases –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á Ed25519/ML-DSA-65 –¥–ª—è —É–∑–ª–æ–≤
   - –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä = –¥–æ—Å—Ç—É–ø

2. **–ü–æ–ª–Ω–∞—è –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å**
   - –ü—É–±–ª–∏—á–Ω–æ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ —Ö—ç—à–∏ –∞–¥—Ä–µ—Å–æ–≤ (SHA256)
   - –°—É–º–º—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å–∫—Ä—ã—Ç—ã
   - –¢–æ–ª—å–∫–æ proof —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—É–±–ª–∏—á–µ–Ω
   - –£–∑–µ–ª –≤–∏–¥–∏—Ç **—Ç–æ–ª—å–∫–æ —Å–≤–æ–π –±–∞–ª–∞–Ω—Å**

3. **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ü–µ—Ä–µ–≤–æ–¥—ã**
   - –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ –ë–î
   - –ë–µ–∑ –±–ª–æ–∫—á–µ–π–Ω –∑–∞–¥–µ—Ä–∂–µ–∫
   - –ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–π
   - –ö–≤–∞–Ω—Ç–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

4. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**
   - –õ—é–±–æ–π –∞–¥—Ä–µ—Å ‚Üí –õ—é–±–æ–π –∞–¥—Ä–µ—Å
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –£–∑–µ–ª
   - –£–∑–µ–ª ‚Üí –£–∑–µ–ª

## –ö–æ–º–∞–Ω–¥—ã –ë–æ—Ç–∞

### `/balance`
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–≤–æ–π –±–∞–ª–∞–Ω—Å –∏ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞:
```
…à

**–¢–≤–æ–π –∫–æ—à–µ–ª–µ–∫ Montana**

**–ê–¥—Ä–µ—Å:** `123456789`
_(—Ç–≤–æ–π Telegram ID ‚Äî –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –∏ –∫–ª—é—á)_

üí∞ **–ë–∞–ª–∞–Ω—Å:** 1500 —Å–µ–∫—É–Ω–¥

üü¢ **–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ:** –∞–∫—Ç–∏–≤–Ω–æ
‚è±Ô∏è **–°–µ–∫—É–Ω–¥ –≤ T2:** 45

üìä **/tx** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
üí∏ **/transfer <–∞–¥—Ä–µ—Å> <—Å—É–º–º–∞>** ‚Äî –ø–µ—Ä–µ–≤–æ–¥

‚ö†Ô∏è –ü—Ä–∏ —Å–º–µ–Ω–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞ ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏ –º–æ–Ω–µ—Ç—ã –∑–∞—Ä–∞–Ω–µ–µ.
```

### `/transfer <–∞–¥—Ä–µ—Å> <—Å—É–º–º–∞>`
–ü–µ—Ä–µ–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å:

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ü–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (Telegram ID)
/transfer 987654321 100

# –ü–µ—Ä–µ–≤–æ–¥ —É–∑–ª—É Amsterdam (–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å)
/transfer mta46b633d258059b90db46adffc6c5ca08f0e8d6c 50

# –ò–ª–∏ –ø–æ alias (—É–¥–æ–±–Ω–µ–µ)
/transfer amsterdam.montana.network 50

# –ü–µ—Ä–µ–≤–æ–¥ —É–∑–ª—É Moscow
/transfer mta8ae14f74c38294b24c2f1c20c6406e6be929c93 200
```

**–û—Ç–≤–µ—Ç:**
```
…à

‚úÖ **–ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω**

üí∏ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 100 —Å–µ–∫—É–Ω–¥
üìç –ê–¥—Ä–µ—Å–∞—Ç: `987654321`
üîê Proof: `a7f8b3c2d1e4f5...`

üí∞ –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 1400 —Å–µ–∫—É–Ω–¥

_–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–Ω–æ–Ω–∏–º–Ω–∞. –ü—É–±–ª–∏—á–Ω–æ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ proof._
```

### `/tx`
–õ–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:
```
…à

**üí≥ –¢–≤–æ–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**

üì§ **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ**
  üîê `a7f8b3c2d1e4f5...`
  üìÖ 2026-01-19T12:34:56

üì• **–ü–æ–ª—É—á–µ–Ω–æ**
  üîê `b8g9c4e2f3h6i7...`
  üìÖ 2026-01-19T11:22:33

_–ê–¥—Ä–µ—Å–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã. –°—É–º–º—ã —Å–∫—Ä—ã—Ç—ã._

üåê **/feed** ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞ TX
```

### `/feed`
–ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π Montana:
```
…à

**üì° –ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞ Montana**

üîê `a7f8b3c2d1e4f5...`
  üìÖ 2026-01-19T12:34:56 ‚Ä¢ send

üîê `b8g9c4e2f3h6i7...`
  üìÖ 2026-01-19T11:22:33 ‚Ä¢ send

_–ü–æ–ª–Ω–∞—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å: –∞–¥—Ä–µ—Å–∞ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω—ã, —Å—É–º–º—ã —Å–∫—Ä—ã—Ç—ã._
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö (montana.db)

#### –¢–∞–±–ª–∏—Ü–∞ `wallets`
```sql
CREATE TABLE wallets (
    address TEXT PRIMARY KEY,           -- telegram_id –∏–ª–∏ mt... (–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π)
    address_type TEXT NOT NULL,         -- "user" –∏–ª–∏ "node"
    created_at TEXT NOT NULL,
    last_seen TEXT NOT NULL,
    balance INTEGER DEFAULT 0,          -- –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    total_presence_seconds INTEGER DEFAULT 0
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `coin_transfers`
```sql
CREATE TABLE coin_transfers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    timestamp TEXT NOT NULL,
    tx_proof TEXT UNIQUE NOT NULL,       -- –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π proof
    from_hash TEXT NOT NULL,             -- SHA256(from_address)
    to_hash TEXT NOT NULL,               -- SHA256(to_address)
    amount_hidden INTEGER DEFAULT 1,     -- —Å—É–º–º–∞ —Å–∫—Ä—ã—Ç–∞
    tx_type TEXT DEFAULT 'transfer'
);
```

### API Montana DB

#### `send(from_addr, to_addr, amount)`
```python
from montana_db import get_db

db = get_db()

# –ü–µ—Ä–µ–≤–æ–¥ 100 —Å–µ–∫—É–Ω–¥ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí —É–∑–µ–ª)
proof = db.send(
    from_addr="123456789",
    to_addr="mta46b633d258059b90db46adffc6c5ca08f0e8d6c",
    amount=100
)

print(f"TX proof: {proof}")
# TX proof: a7f8b3c2d1e4f567890abcdef1234567...
```

#### `balance(address)`
```python
# –ë–∞–ª–∞–Ω—Å –ø–æ –∞–¥—Ä–µ—Å—É
balance = db.balance("123456789")
print(f"Balance: {balance} —Å–µ–∫—É–Ω–¥")
```

#### `my_txs(address, limit)`
```python
# –õ–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
txs = db.my_txs("123456789", limit=10)

for tx in txs:
    print(f"{tx['direction']}: {tx['proof'][:16]}...")
```

#### `tx_feed(limit)`
```python
# –ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞
feed = db.tx_feed(limit=20)

for tx in feed:
    print(f"{tx['timestamp']}: {tx['proof'][:16]}...")
```

## –ö–≤–∞–Ω—Ç–æ–≤–∞—è –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å

### –ß—Ç–æ –í–∏–¥–Ω–æ –ü—É–±–ª–∏—á–Ω–æ
```json
{
  "timestamp": "2026-01-19T12:34:56Z",
  "tx_proof": "a7f8b3c2d1e4f5...",
  "tx_type": "send"
}
```

### –ß—Ç–æ –°–∫—Ä—ã—Ç–æ
- ‚ùå –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ SHA256 —Ö—ç—à)
- ‚ùå –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ SHA256 —Ö—ç—à)
- ‚ùå –°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ (amount_hidden = 1)

### –ß—Ç–æ –í–∏–¥–∏—à—å –¢—ã
- ‚úÖ –°–≤–æ–π –±–∞–ª–∞–Ω—Å
- ‚úÖ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö TX (in/out)
- ‚úÖ Proof —Å–≤–æ–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –ß—Ç–æ –í–∏–¥–∏—Ç –£–∑–µ–ª
- ‚úÖ **–¢–æ–ª—å–∫–æ —Å–≤–æ–π –±–∞–ª–∞–Ω—Å**
- ‚úÖ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö TX (in/out)
- ‚ùå –ß—É–∂–∏–µ –±–∞–ª–∞–Ω—Å—ã
- ‚ùå –ß—É–∂–∏–µ –∞–¥—Ä–µ—Å–∞
- ‚ùå –°—É–º–º—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è
```python
def hash_address(address: str) -> str:
    """SHA256 —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞"""
    return hashlib.sha256(address.encode()).hexdigest()[:16]

def generate_tx_proof() -> str:
    """64-–±–∞–π—Ç–Ω—ã–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π proof"""
    return secrets.token_hex(32)
```

### –ó–∞—â–∏—Ç–∞
- üîí –ê–¥—Ä–µ—Å–∞ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω—ã SHA256
- üîí Proof –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `secrets.token_hex(32)`
- üîí –°—É–º–º—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- üîí –£–∑–ª—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã (–≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–µ–±—è)

## –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```bash
# Alice (123456) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Bob (789012) 100 —Å–µ–∫—É–Ω–¥
/transfer 789012 100

# Alice –≤–∏–¥–∏—Ç: –±–∞–ª–∞–Ω—Å —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 100
# Bob –≤–∏–¥–∏—Ç: –±–∞–ª–∞–Ω—Å —É–≤–µ–ª–∏—á–µ–Ω –Ω–∞ 100
# –°–µ—Ç—å –≤–∏–¥–∏—Ç: —Ç–æ–ª—å–∫–æ proof —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –£–∑–µ–ª
```bash
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–≥—Ä–∞–¥—É —É–∑–ª—É Amsterdam
/transfer mta46b633d258059b90db46adffc6c5ca08f0e8d6c 50

# –ò–ª–∏ –ø–æ alias (—É–¥–æ–±–Ω–µ–µ)
/transfer amsterdam.montana.network 50

# –ü—É–±–ª–∏—á–Ω–æ: —Ç–æ–ª—å–∫–æ proof
# –£–∑–µ–ª –≤–∏–¥–∏—Ç: +50 —Å–µ–∫—É–Ω–¥ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
```

### –£–∑–µ–ª ‚Üí –£–∑–µ–ª
```bash
# Amsterdam –ø–µ—Ä–µ–≤–æ–¥–∏—Ç Moscow (—á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∞ —Å –ø–æ–¥–ø–∏—Å—å—é)
/transfer mta8ae14f74c38294b24c2f1c20c6406e6be929c93 1000

# –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å—å private key —É–∑–ª–∞ Amsterdam
# –ü—É–±–ª–∏—á–Ω–æ: —Ç–æ–ª—å–∫–æ proof
# –û–±–∞ —É–∑–ª–∞ –≤–∏–¥—è—Ç —Å–≤–æ–π –±–∞–ª–∞–Ω—Å
# –ù–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç —Å—É–º–º—É –ø–µ—Ä–µ–≤–æ–¥–∞
```

## Roadmap

- [ ] Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] QR –∫–æ–¥—ã –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ recurring –ø–ª–∞—Ç–µ–∂–∏
- [ ] Escrow —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- [ ] Multi-sig –∫–æ—à–µ–ª—å–∫–∏ –¥–ª—è —É–∑–ª–æ–≤
- [ ] Lightning-style –∫–∞–Ω–∞–ª—ã –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –º–∏–∫—Ä–æ–ø–ª–∞—Ç–µ–∂–µ–π

---

**…à Montana ‚Äî –ü—Ä–æ—Ç–æ–∫–æ–ª –∏–¥–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥**

*–í—Ä–µ–º—è ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞*

*–ö–≤–∞–Ω—Ç–æ–≤–∞—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å ‚Äî –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏*
