# knowledge/code.py
# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–¥–∞ –±–æ—Ç–∞

KNOWLEDGE_CODE = """–°–ü–†–ê–í–û–ß–ù–ò–ö –ö–û–î–ê JUNONA_BOT:

–°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í:
- junona_bot.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
- junona_ai.py ‚Äî AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (OpenAI/Anthropic)
- knowledge/ ‚Äî –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ –ø–∞–ø–∫–∞–º
- .env ‚Äî —Ç–æ–∫–µ–Ω—ã (TELEGRAM_TOKEN_JUNONA, OPENAI_API_KEY, AI_PROVIDER)
- data/users.json ‚Äî –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- content/{ru,en,zh}/ ‚Äî –≥–ª–∞–≤—ã —Å–∫–∞–∑–∫–∏ (.md, .mp3, .mp4)

–ì–õ–ê–í–ù–´–ï –§–£–ù–ö–¶–ò–ò:

1. start(update, context) ‚Äî /start –∫–æ–º–∞–Ω–¥–∞
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ (language_keyboard)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç first_name, username

2. handle_callback(update, context) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫
   - lang_ru/en/zh ‚Üí –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ ‚Üí –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Æ–Ω–æ–Ω—ã
   - begin_tale ‚Üí –Ω–∞—á–∞–ª–æ —Å–∫–∞–∑–∫–∏ ‚Üí –ø–µ—Ä–≤–∞—è –≥–ª–∞–≤–∞
   - read_XX ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç –≥–ª–∞–≤—ã
   - listen_XX ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞—É–¥–∏–æ
   - watch_XX ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ
   - understood_XX ‚Üí –Æ–Ω–æ–Ω–∞ –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å –ø–æ –≥–ª–∞–≤–µ
   - next_chapter ‚Üí —Å–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞

3. handle_message(update, context) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
   - state='checking' ‚Üí –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞ (–î–ê–õ–¨–®–ï = –ø–æ–Ω—è–ª)
   - –∏–Ω–∞—á–µ ‚Üí JUNONA_GUIDE_USER —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏

–ü–†–û–ú–ü–¢–´ –Æ–ù–û–ù–´:
- JUNONA_PERSONAL_GREETING ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- JUNONA_CHAPTER_INTRO ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤—ã
- JUNONA_ASK_QUESTION ‚Äî –≤–æ–ø—Ä–æ—Å –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è
- JUNONA_ANALYZE_RESPONSE ‚Äî –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞ –ø–æ Disney
- JUNONA_GUIDE_USER ‚Äî –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–≠–§–§–ï–ö–¢ –ü–ï–ß–ê–¢–ò:
- type_message(message, text) ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ
- type_reply(update, text, reply_markup) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ
- –ü–æ 3 —Å–∏–º–≤–æ–ª–∞, delay=0.04-0.05 —Å–µ–∫, –∫—É—Ä—Å–æ—Ä ‚ñå

–ö–õ–ê–í–ò–ê–¢–£–†–´:
- language_keyboard() ‚Äî üá∑üá∫ üá¨üáß üá®üá≥
- chapter_keyboard(lang, chapter_num) ‚Äî –ß–∏—Ç–∞—Ç—å/–°–ª—É—à–∞—Ç—å/–°–º–æ—Ç—Ä–µ—Ç—å + –ü–æ–Ω—è–ª
- next_chapter_keyboard(lang) ‚Äî ‚Üí –î–∞–ª—å—à–µ

–ë–ê–ó–ê –î–ê–ù–ù–´–•:
- load_users() ‚Üí dict –∏–∑ users.json
- save_users(users) ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ users.json
- get_user(user_id) ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç
- save_user(user_id, data) ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

AI –ú–û–î–£–õ–¨ (junona_ai.py):
- JunonaAI(provider) ‚Äî "openai" –∏–ª–∏ "anthropic"
- junona.respond(prompt, user_data) ‚Äî –æ—Ç–≤–µ—Ç AI
- –ú–æ–¥–µ–ª–∏: gpt-4o –∏–ª–∏ claude-sonnet-4-20250514"""
