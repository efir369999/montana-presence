# knowledge/network.py
# P2P сеть Montana

KNOWLEDGE_NETWORK = """P2P СЕТЬ MONTANA:

ТИПЫ УЗЛОВ:
- Full Node — полная валидация, хранит весь таймчейн
- Light Node — валидация заголовков, хранит заголовки + чекпоинты
- Light Client — отправка подписей, хранит только свои данные

5 УЗЛОВ СЕТИ:
- Амстердам: 72.56.102.240 (PRIMARY)
- Москва: 176.124.208.93
- Алматы: 91.200.148.93
- СПб: 188.225.58.98
- Новосибирск: 147.45.147.247

ЛИМИТЫ СОЕДИНЕНИЙ:
- max_inbound = 117 (входящих)
- max_outbound = 11 (исходящих)
- max_per_netgroup = 2 (на подсеть /16)
- min_netgroups = 4 (минимум разных подсетей)

ЗАЩИТА ОТ ECLIPSE:
- Криптографическое бакетирование (секретный bucket_key для каждого узла)
- new_table: 1024 бакета × 64 адреса = 65,536 макс
- tried_table: 256 бакетов × 64 адреса = 16,384 макс
- Rate limiting: 0.1 addr/sec после burst
- Фильтрация будущих timestamp (>10 мин) — защита от Time-Travel Poisoning

ТИПЫ СООБЩЕНИЙ:
- VERSION (~100B) — рукопожатие между узлами
- PRESENCE (3309B) — подпись присутствия
- ADDR (var) — адреса узлов
- SLICE (~50KB) — заголовок слайса
- TX (var) — транзакция
- PING/PONG (8B) — проверка связи

СИНХРОНИЗАЦИЯ:
- Узлы синхронизируются каждые 12 секунд
- users.json реплицируется на все 5 узлов
- При падении узла — failover на следующий по приоритету"""
