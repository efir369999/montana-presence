# ‚úÖ –ë–æ—Ç —Å Mini Apps –≥–æ—Ç–æ–≤

**–î–∞—Ç–∞:** 19.01.2026  
**–§—É–Ω–∫—Ü–∏—è:** Telegram –±–æ—Ç —Å Mini Apps –¥–ª—è Montana Protocol

---

## –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞**

–í Telegram –±–æ—Ç–µ [@JunonaMontanaAGIBot](https://t.me/JunonaMontanaAGIBot) –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã:

```
/start   - üè† –ì–ª–∞–≤–Ω–∞—è ‚Äî –±–∞–ª–∞–Ω—Å –∏ –∫–æ–º–∞–Ω–¥—ã
/menu    - üì± –ú–µ–Ω—é Montana (Mini App)
/verify  - üîê –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Face ID (Mini App)
/balance - üí∞ –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
/transfer - üí∏ –ü–µ—Ä–µ–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏
/tx      - üìä –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
/feed    - üì° –ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞
/node    - üåê –£–∑–ª—ã Montana
/stream  - üí¨ –õ–µ–Ω—Ç–∞ –¥–∏–∞–ª–æ–≥–∞
```

### 2. **Mini Apps**

#### `/menu` - –ú–µ–Ω—é Montana
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –†–∞–∑–¥–µ–ª—ã:
  - **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Face ID, –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É–∑–ª–∞
  - **–ö–æ—à–µ–ª–µ–∫**: –ë–∞–ª–∞–Ω—Å, –ü–µ—Ä–µ–≤–æ–¥, –ò—Å—Ç–æ—Ä–∏—è
  - **–°–µ—Ç—å**: –£–∑–ª—ã, –ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞

#### `/verify` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App –¥–ª—è Face ID / Touch ID –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- WebAuthn –±–∏–æ–º–µ—Ç—Ä–∏—è (–≤ production)
- ML-DSA-65 –ø–æ–¥–ø–∏—Å–∏
- Proof of Presence

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–û—Ç–∫—Ä—ã—Ç—å Telegram** ‚Üí [@JunonaMontanaAGIBot](https://t.me/JunonaMontanaAGIBot)

2. **–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É** `/menu` –∏–ª–∏ `/verify`

3. **–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É** "–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" –∏–ª–∏ "–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å Face ID"

4. **Mini App –æ—Ç–∫—Ä–æ–µ—Ç—Å—è** –ø—Ä—è–º–æ –≤ Telegram (–Ω–µ –Ω—É–∂–µ–Ω –±—Ä–∞—É–∑–µ—Ä!)

5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏** —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Telegram Bot (@JunonaMontanaAGIBot)
     ‚Üì
/menu –∏–ª–∏ /verify –∫–æ–º–∞–Ω–¥–∞
     ‚Üì
InlineKeyboardButton —Å WebAppInfo
     ‚Üì
Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram
     ‚Üì
HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (menu.html / verify.html)
     ‚Üì
Telegram WebApp API
     ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç
     ‚Üì
tg.sendData() –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–æ—Ç
     ‚Üì
–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ webapp_data_handler
```

---

## –§–∞–π–ª—ã

### –ë–æ—Ç
- **junomontanaagibot.py** - Telegram –±–æ—Ç —Å Mini App –∫–æ–º–∞–Ω–¥–∞–º–∏
  - `menu_cmd()` - –ö–æ–º–∞–Ω–¥–∞ /menu
  - `verify_cmd()` - –ö–æ–º–∞–Ω–¥–∞ /verify
  - `webapp_data_handler()` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Mini Apps

### Mini Apps
- **miniapp/menu.html** - –ú–µ–Ω—é Montana —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **miniapp/verify.html** - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Face ID / Touch ID

### –°–µ—Ä–≤–µ—Ä
- **test_iphone_web.py** - Flask —Å–µ—Ä–≤–µ—Ä –¥–ª—è Mini Apps
  - Routes: `/miniapp/menu.html`, `/miniapp/verify.html`
  - API: `/api/agents`, `/api/fido2/register`, etc.

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞ Mac (–ª–æ–∫–∞–ª—å–Ω–æ):

1. Flask —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:
   ```
   http://192.168.0.127:5001
   ```

2. Mini Apps –¥–æ—Å—Ç—É–ø–Ω—ã:
   - http://192.168.0.127:5001/miniapp/menu.html
   - http://192.168.0.127:5001/miniapp/verify.html

### –í Telegram:

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞: [@JunonaMontanaAGIBot](https://t.me/JunonaMontanaAGIBot)

2. –ù–∞–ø–∏—à–∏ `/menu` ‚Üí –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Üí Mini App –æ—Ç–∫—Ä–æ–µ—Ç—Å—è

3. –ù–∞–ø–∏—à–∏ `/verify` ‚Üí –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Üí –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Face ID

---

## Production Deploy

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è production:

1. **–î–æ–º–µ–Ω —Å HTTPS**
   ```
   montana.network (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
   ```

2. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**
   ```bash
   certbot certonly --standalone -d montana.network
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å URL –≤ –±–æ—Ç–µ**
   ```python
   # –í junomontanaagibot.py
   MINIAPP_BASE_URL = "https://montana.network/miniapp"
   ```

4. **Deploy Mini Apps –Ω–∞ —Å–µ—Ä–≤–µ—Ä**
   ```bash
   scp -r miniapp/ root@server:/var/www/montana/
   ```

5. **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
   ```nginx
   location /miniapp/ {
       alias /var/www/montana/miniapp/;
       index menu.html;
   }
   ```

---

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π Mini App

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É

```bash
# –°–æ–∑–¥–∞—Ç—å miniapp/new_feature.html
```

```html
<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>New Feature</h1>
    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // –¢–≤–æ—è –ª–æ–≥–∏–∫–∞
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–æ—Ç
        tg.sendData(JSON.stringify({
            action: 'feature_completed',
            data: {...}
        }));
    </script>
</body>
</html>
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å route –≤ Flask

```python
# –í test_iphone_web.py
@app.route('/miniapp/new_feature.html')
def serve_new_feature():
    return send_file('miniapp/new_feature.html')
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–∞

```python
# –í junomontanaagibot.py
async def new_feature_cmd(update: Update, context: ContextTypes.DEFAULT_TYPE):
    webapp_url = f"{MINIAPP_BASE_URL}/new_feature.html"
    
    keyboard = InlineKeyboardMarkup([[
        InlineKeyboardButton(
            text="üì± Open Feature",
            web_app=WebAppInfo(url=webapp_url)
        )
    ]])
    
    await update.message.reply_text(
        "New Feature Description",
        reply_markup=keyboard
    )

# –í main()
application.add_handler(CommandHandler("new_feature", new_feature_cmd))
```

### –®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–µ–Ω—é

```python
# –í setup_bot_commands()
commands = [
    # ...
    BotCommand("new_feature", "üì± New Feature"),
]
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Mini Apps

| –§—É–Ω–∫—Ü–∏—è | –û–±—ã—á–Ω—ã–π –≤–µ–± | Mini App |
|---------|-------------|----------|
| –û—Ç–∫—Ä—ã—Ç–∏–µ | Safari / Chrome | –í–Ω—É—Ç—Ä–∏ Telegram |
| User ID | –ù—É–∂–µ–Ω login | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ Telegram |
| UX | –ü–µ—Ä–µ—Ö–æ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä | –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –≤ Telegram |
| –†–µ–∑—É–ª—å—Ç–∞—Ç | –ù—É–∂–µ–Ω callback | `tg.sendData()` –ø—Ä—è–º–æ –≤ –±–æ—Ç |
| Themes | –°–≤–æ–∏ —Å—Ç–∏–ª–∏ | Telegram —Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

---

## –†–µ–∑—é–º–µ

‚úÖ **–ì–æ—Ç–æ–≤–æ:**
- Telegram –±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è Mini Apps
- Menu Mini App - –º–µ–Ω—é –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Verify Mini App - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Face ID
- Flask —Å–µ—Ä–≤–µ—Ä —Å routes –¥–ª—è Mini Apps
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ WebAppInfo –∫–Ω–æ–ø–∫–∏

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:**
- –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ Mac (192.168.0.127:5001)
- –ù–∞ Amsterdam —Å–µ—Ä–≤–µ—Ä–µ (–±–æ—Ç)
- –ö–æ–º–∞–Ω–¥—ã /menu –∏ /verify –≤ –±–æ—Ç–µ

‚ö†Ô∏è **–î–ª—è production –Ω—É–∂–Ω–æ:**
- HTTPS –¥–æ–º–µ–Ω (montana.network)
- Deploy Mini Apps –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –û–±–Ω–æ–≤–∏—Ç—å MINIAPP_BASE_URL

---

**…à Montana ‚Äî –ü—Ä–æ—Ç–æ–∫–æ–ª –∏–¥–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥**

*Mini Apps ‚Äî –§—É–Ω–∫—Ü–∏–∏ Montana –ø—Ä—è–º–æ –≤ Telegram*

*–ö–∞–∫ BotFather, –Ω–æ –¥–ª—è Montana Protocol*
