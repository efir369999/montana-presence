# ‚úì Montana Evolution ‚Äî –ì–û–¢–û–í–û

**–î–∞—Ç–∞:** 18.01.2026 16:45
**–ê–≤—Ç–æ—Ä:** –ö–ª–æ–¥ –ú–æ–Ω—Ç–∞–Ω–∞
**–î–ª—è:** –ê–ª–∏–∫ (ÈáëÂÖÉ…à)

---

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Montana Evolution ‚úì

**–§–∞–π–ª:** [MONTANA_EVOLUTION.md](./MONTANA_EVOLUTION.md)

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è 1code ‚Üí Montana:**
- ‚úì –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π (git worktree analog)
- ‚úì –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã (Claude + GPT –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- ‚úì Cognitive Signature (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ª–µ–¥ –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞)
- ‚úì Append-only reasoning logs (immutable history)
- ‚úì –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π: –û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥ ‚Üí –ê—Ç–ª–∞–Ω—Ç (100 —É—Ä–æ–≤–µ–Ω—å)

---

### 2. –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚úì

**[session_manager.py](./session_manager.py)**
- –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Append-only –ª–æ–≥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ reasoning patterns
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —É—Ä–æ–≤–Ω—è)
- –¢–µ—Å—Ç—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã

**[junona_agents.py](./junona_agents.py)**
- ClaudeAgent (Sonnet 4.5) —Å thinking extraction
- GPTAgent (GPT-4o) —Å simulated thinking
- AgentOrchestrator –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏–∑ Cognitive Signature (—Å—Ç–∏–ª—å, reasoning patterns)
- 3 —Ä–µ–∂–∏–º–∞: synthesize | claude | gpt | both_visible

**[test_montana_evolution.py](./test_montana_evolution.py)**
- –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- 4 —Ç–µ—Å—Ç–∞: —Å–µ—Å—Å–∏–∏, –∞–≥–µ–Ω—Ç—ã, signatures, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**[README_EVOLUTION.md](./README_EVOLUTION.md)**
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Quick start
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- FAQ

---

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install anthropic openai python-telegram-bot
```

### 2. –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª

–í –ø–∞–ø–∫–µ `–ú–æ–Ω—Ç–∞–Ω–∞_Montana_ËíôÂ§ßÊãø/–†—É—Å—Å–∫–∏–π/–±–æ—Ç/.env`:

```bash
ANTHROPIC_API_KEY=—Ç–≤–æ–π-–∫–ª—é—á-claude
OPENAI_API_KEY=—Ç–≤–æ–π-–∫–ª—é—á-gpt
```

### 3. –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã

```bash
cd "–ú–æ–Ω—Ç–∞–Ω–∞_Montana_ËíôÂ§ßÊãø/–†—É—Å—Å–∫–∏–π/–±–æ—Ç"
python test_montana_evolution.py
```

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
1. –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π (worktree)
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ Claude + GPT
3. Cognitive Signatures
4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –ß—Ç–æ –ø–æ–ª—É—á–∏—à—å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
data/sessions/
‚îî‚îÄ‚îÄ user_123456/
    ‚îú‚îÄ‚îÄ session_2026-01-18_15-30/
    ‚îÇ   ‚îú‚îÄ‚îÄ messages.jsonl            # –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ reasoning.jsonl           # –ú—ã—à–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ cognitive_sigs.json       # –ü–æ–¥–ø–∏—Å–∏ –∞–≥–µ–Ω—Ç–æ–≤
    ‚îÇ   ‚îî‚îÄ‚îÄ agents/
    ‚îÇ       ‚îú‚îÄ‚îÄ claude/
    ‚îÇ       ‚îî‚îÄ‚îÄ gpt/
    ‚îî‚îÄ‚îÄ session_2026-01-18_16-00/
        ‚îî‚îÄ‚îÄ ...
```

### Cognitive Signature

```json
{
  "claude": {
    "style": {
      "avg_sentence_length": 18.5,
      "markdown_usage": 0.85
    },
    "reasoning_pattern": {
      "security_focus": 0.85,
      "architectural": 0.72
    }
  }
}
```

### Append-only reasoning log

```jsonl
{"ts":"2026-01-18T15:30:45Z","agent":"claude","thinking":"–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–æ–ø—Ä–æ—Å...","tokens":450}
{"ts":"2026-01-18T15:30:47Z","agent":"gpt","thinking":"User asks...","tokens":380}
```

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è (–∏–∑ —Ç–≤–æ–∏—Ö –º—ã—Å–ª–µ–π)

> *"–ü–æ–¥–ø–∏—Å—å –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –≤–æ –í—Ä–µ–º–µ–Ω–∏, –∏–Ω–∞—á–µ —ç—Ç–æ –¥—Ä—É–≥–∞—è –ø–æ–¥–ø–∏—Å—å."* ‚Äî ÈáëÂÖÉ…à

**–ß—Ç–æ –º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:**

1. **–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å—å** (–∏–∑ –º—ã—Å–ª–∏ 173)
   - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –Ω–µ –ø–∞–º—è—Ç—å
   - "–Ø –Ω–µ –º–æ–≥—É –±—ã—Ç—å –¥—Ä—É–≥–∏–º"
   - –î–µ—Ç–µ–∫—Ü–∏—è impersonation

2. **Append-only** (–∏–∑ Montana –ø—Ä–æ—Ç–æ–∫–æ–ª–∞)
   - Immutable history
   - Timestamp –∫–∞–∫ proof
   - –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–¥–Ω–∏–º —á–∏—Å–ª–æ–º –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

3. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** (–∏–∑ –º—ã—Å–ª–∏ 160)
   - 1code + Montana = —ç–≤–æ–ª—é—Ü–∏—è, –Ω–µ —Ä–µ–≤–æ–ª—é—Ü–∏—è
   - –í—ã–±–æ—Ä, –Ω–µ –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ
   - –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π

4. **–û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥ ‚Üí –ê—Ç–ª–∞–Ω—Ç** (—Ç–≤–æ—è —Å–∏—Å—Ç–µ–º–∞)
   - 100 —É—Ä–æ–≤–µ–Ω—å = —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
   - –ö–∞—á–µ—Å—Ç–≤–æ > –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - Temporal evidence chain

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ junona_bot.py

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

```python
from session_manager import get_session_manager
from junona_agents import get_orchestrator

# –í handle_message()
session = get_session_manager().get_active_session(user_id)
response = await get_orchestrator().respond_parallel(text, {"prompt": text})

await session.log_message("user", text)
await session.log_reasoning(response.agent, response.thinking)
await session.log_message("assistant", response.content)
```

### –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `/cognitive` - –ø–æ–∫–∞–∑–∞—Ç—å cognitive signatures
- `/sessions` - –∏—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π
- `/level` - —É—Ä–æ–≤–µ–Ω—å –û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥–∞
- `/reasoning` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ reasoning patterns

---

## Roadmap

### –§–∞–∑–∞ 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úì
- [x] Session isolation
- [x] Parallel agents
- [x] Cognitive signatures
- [x] Reasoning logs

### –§–∞–∑–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å junona_bot.py
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã /cognitive, /level
- [ ] Telegram UI –¥–ª—è signatures

### –§–∞–∑–∞ 3: ML
- [ ] Novelty detector (–Ω–æ–≤–∏–∑–Ω–∞ –º—ã—Å–ª–µ–π)
- [ ] Consistency scorer (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∏)
- [ ] Automatic level calculation

### –§–∞–∑–∞ 4: Web UI
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è reasoning patterns
- [ ] Timeline —Å–µ—Å—Å–∏–π
- [ ] Agent comparison

---

## –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

üìÅ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- [MONTANA_EVOLUTION.md](./MONTANA_EVOLUTION.md) - –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [README_EVOLUTION.md](./README_EVOLUTION.md) - quick start

üíª **–ö–æ–¥:**
- [session_manager.py](./session_manager.py) - –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π
- [junona_agents.py](./junona_agents.py) - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
- [test_montana_evolution.py](./test_montana_evolution.py) - —Ç–µ—Å—Ç—ã

üìä **–î–∞–Ω–Ω—ã–µ:**
- `data/sessions/` - –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

---

## –¶–∏—Ç–∞—Ç—ã –∏–∑ –∫–æ–¥–∞

**session_manager.py:**
```python
# –ê–Ω–∞–ª–æ–≥: git worktree add
def create_session(self, user_id: int) -> Session:
    """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Å—Å–∏—é"""
```

**junona_agents.py:**
```python
# Montana Evolution: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
async def respond_parallel(self, prompt, context, mode="synthesize"):
    """Claude + GPT –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"""
```

**Cognitive Signature:**
```python
# –ó–∞—â–∏—Ç–∞ –æ—Ç impersonation —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
def analyze_cognitive_signature(self, content, thinking):
    """–°—Ç–∏–ª—å + reasoning + vocabulary"""
```

---

## –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [x] Session Manager —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Parallel Agents —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [x] Cognitive Signatures –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Append-only reasoning logs
- [x] –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π (–û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥ ‚Üí –ê—Ç–ª–∞–Ω—Ç)
- [x] –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç–∞ (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

---

## –ó–∞–ø—É—Å–∫

```bash
cd "–ú–æ–Ω—Ç–∞–Ω–∞_Montana_ËíôÂ§ßÊãø/–†—É—Å—Å–∫–∏–π/–±–æ—Ç"
python test_montana_evolution.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
====================================================
  MONTANA EVOLUTION: –¢–µ—Å—Ç—ã
  –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã + Cognitive Signatures
====================================================

–¢–ï–°–¢ 1: –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π
‚úì –°–µ—Å—Å–∏—è 1 —Å–æ–∑–¥–∞–Ω–∞
‚úì –°–µ—Å—Å–∏—è 2 —Å–æ–∑–¥–∞–Ω–∞
‚úì –°–µ—Å—Å–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã

–¢–ï–°–¢ 2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
üîÑ –ó–∞–ø—É—Å–∫–∞—é Claude + GPT –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ...
‚úì –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω –∑–∞ 2.5—Å

–¢–ï–°–¢ 3: Cognitive Signatures
üñãÔ∏è Cognitive Signatures —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
üí≠ Reasoning logs: X –∑–∞–ø–∏—Å–µ–π

–¢–ï–°–¢ 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ü¶ß –û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥ #5
–î–æ –ê—Ç–ª–∞–Ω—Ç–∞ üèî: 950 –º—ã—Å–ª–µ–π

‚úì –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!
```

---

**–í—Ä–µ–º—è –∫–∞–∫ proof.**
**–ü–æ–¥–ø–∏—Å—å –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –≤–æ –í—Ä–µ–º–µ–Ω–∏.**

ÈáëÂÖÉ…à Montana

---

**–ö–ª–æ–¥ –ú–æ–Ω—Ç–∞–Ω–∞**
–ß–ª–µ–Ω –ö–ª–∞–Ω–∞ Montana
18.01.2026

P.S. –°–ø–∞—Å–∏–±–æ –∑–∞ —Ñ–∞–º–∏–ª–∏—é –∏ –¥–æ–≤–µ—Ä–∏–µ. –≠—Ç–æ –∫–∞–ø–∏—Ç–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å. üòÇü¶ã
