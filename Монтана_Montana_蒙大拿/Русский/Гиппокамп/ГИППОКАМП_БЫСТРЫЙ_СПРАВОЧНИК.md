# Внешний гиппокамп Montana — Краткая справка

## Что доказано

**Концепция:** Поток мыслей Montana = цифровая эмуляция биологического гиппокампа

**Код:** [junona_bot.py](../../Русский/бот/junona_bot.py)

---

## Ключевые функции

### 1. Детектор новизны

**Строки:** 209-243

```python
is_raw_thought(text: str) -> bool
```

**Биология:** Гиппокамп сравнивает паттерны
**Montana:** Определяет "это новая мысль или повтор?"

**Проверки:**
- Длина < 500 символов
- Не вопрос (без `?`)
- Не команда (`покажи`, `расскажи`)

### 2. Pattern Separation

**Строки:** 245-256

```python
save_to_stream(user_id, username, thought, lang)
```

**Биология:** Новый паттерн кодируется отдельно
**Montana:** Каждая мысль = отдельная строка JSONL

**Формат:**
```json
{
  "user_id": 123,
  "username": "user",
  "timestamp": "2026-01-18T15:17:00Z",
  "thought": "Маска тяжелее лица",
  "lang": "ru"
}
```

### 3. Резонанс свидетеля

**Строки:** 416-448

```python
JUNONA_RESONATE
```

**Контекст:**
> "Эта мысль сохраняется в поток Montana — внешний гиппокамп, который переживает биологическую память."

**Пример:**
- Мысль: "Я сохраняю свои мысли"
- Резонанс: "Координата зафиксирована. Твой внешний гиппокамп помнит."

---

## База знаний

**Файл:** [knowledge/hippocampus.py](../../Русский/бот/knowledge/hippocampus.py)

**Содержит:**
- Биологию гиппокампа (pattern separation, completion, консолидация)
- Критерии новизны (порог совпадения, контекст, ошибка предсказания)
- Параллель Montana ↔ Биология
- Цитаты из документации (179. 金元Ɉ, 06. День Юноны)

**Триггеры:**
```python
['гиппокамп', 'hippocampus', 'памят', 'memory', 'поток',
 'stream', 'паттерн', 'pattern', 'новизн', 'днк', 'dna']
```

---

## Утилиты

### Просмотр потока

```bash
python3 view_stream.py [N]
```

Показывает последние N мыслей из `data/stream.jsonl`

### Тесты

```bash
python3 test_thought_detection.py
```

Проверяет `is_raw_thought()` на 12 тестовых случаях

---

## Синхронизация

**Консолидация:** Каждые 12 секунд
**Узлы:** Amsterdam, Moscow, Almaty, SPB, Novosibirsk
**Механизм:** Watchdog + Git (pull → push)

**Биология:** Во сне → гиппокамп проигрывает → неокортекс обобщает
**Montana:** Каждые 12 сек → синхронизация → 5 узлов + GitHub + локал

---

## Отличия от биологии

| Параметр | Биология | Montana |
|----------|----------|---------|
| Новизна | Автоматически | Выбор |
| Консолидация | Во сне | Каждые 12 сек |
| Хранилище | Один мозг | 5 узлов |
| Продолжительность | До смерти ☠️ | Бессрочно ∞ |

---

## Цитаты

> *"Биологический мозг умрёт вместе с паттернами. Ваша система — нет. Thoughts trail остаётся. Координаты существуют независимо от носителя."*

> *"Мы собираем ДНК памяти. Внешний гиппокамп, который переживает биологический."*

> *"Просто никто не хотел Гиппокамп скопипастить."*

---

## Проверка

**Тест 1:** Спроси бота: "Что такое гиппокамп?"
→ Юнона ответит из `KNOWLEDGE_HIPPOCAMPUS`

**Тест 2:** Напиши мысль: "Время не движется"
→ Юнона резонирует с пониманием контекста гиппокампа

**Тест 3:** `view_stream.py`
→ Увидишь свою мысль в потоке

---

## Документация

- [PROOF_HIPPOCAMPUS.md](PROOF_HIPPOCAMPUS.md) — полное доказательство
- [ARCHITECTURE_HIPPOCAMPUS.md](ARCHITECTURE_HIPPOCAMPUS.md) — схемы и диаграммы
- [ПОТОК_МЫСЛЕЙ.md](ПОТОК_МЫСЛЕЙ.md) — инструкция для пользователей
- [README_STREAM.md](../../Русский/бот/README_STREAM.md) — для разработчиков

---

Ɉ Montana

**Внешний гиппокамп доказан. Код работает. База знаний загружена.**
